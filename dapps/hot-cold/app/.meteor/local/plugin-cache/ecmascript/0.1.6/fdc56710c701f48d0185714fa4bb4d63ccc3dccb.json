{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"var accounts;\nvar account;\nvar balance;\n\nfunction setStatus(message) {\n  var status = document.getElementById(\"status\");\n  status.innerHTML = message;\n};\n\nfunction refreshBalance() {\n  var meta = MetaCoin.deployed();\n\n  meta.getBalance.call(account, { from: account }).then(function (value) {\n    var balance_element = document.getElementById(\"balance\");\n    balance_element.innerHTML = value.valueOf();\n  })[\"catch\"](function (e) {\n    console.log(e);\n    setStatus(\"Error getting balance; see log.\");\n  });\n};\n\nfunction sendCoin() {\n  var meta = MetaCoin.deployed();\n\n  var amount = parseInt(document.getElementById(\"amount\").value);\n  var receiver = document.getElementById(\"receiver\").value;\n\n  setStatus(\"Initiating transaction... (please wait)\");\n\n  meta.sendCoin(receiver, amount, { from: account }).then(function () {\n    setStatus(\"Transaction complete!\");\n    refreshBalance();\n  })[\"catch\"](function (e) {\n    console.log(e);\n    setStatus(\"Error sending coin; see log.\");\n  });\n};\n\nwindow.onload = function () {\n  web3.eth.getAccounts(function (err, accs) {\n    if (err != null) {\n      alert(\"There was an error fetching your accounts.\");\n      return;\n    }\n\n    if (accs.length == 0) {\n      alert(\"Couldn't get any accounts! Make sure your Ethereum client is configured correctly.\");\n      return;\n    }\n\n    accounts = accs;\n    account = accounts[0];\n\n    refreshBalance();\n  });\n};","ast":null,"map":{"version":3,"sources":["/javascripts/app.js"],"names":[],"mappings":"AAAA,IAAI,QAAQ,CAAC;AACb,IAAI,OAAO,CAAC;AACZ,IAAI,OAAO,CAAC;;AAEZ,SAAS,SAAS,CAAC,OAAO,EAAE;AAC1B,MAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;AAC/C,QAAM,CAAC,SAAS,GAAG,OAAO,CAAC;CAC5B,CAAC;;AAEF,SAAS,cAAc,GAAG;AACxB,MAAI,IAAI,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;;AAE/B,MAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC,CAAC,IAAI,CAAC,UAAS,KAAK,EAAE;AAClE,QAAI,eAAe,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AACzD,mBAAe,CAAC,SAAS,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;GAC7C,CAAC,SAAM,CAAC,UAAS,CAAC,EAAE;AACnB,WAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACf,aAAS,CAAC,iCAAiC,CAAC,CAAC;GAC9C,CAAC,CAAC;CACJ,CAAC;;AAEF,SAAS,QAAQ,GAAG;AAClB,MAAI,IAAI,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;;AAE/B,MAAI,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC;AAC/D,MAAI,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;;AAEzD,WAAS,CAAC,yCAAyC,CAAC,CAAC;;AAErD,MAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC,CAAC,IAAI,CAAC,YAAW;AAC/D,aAAS,CAAC,uBAAuB,CAAC,CAAC;AACnC,kBAAc,EAAE,CAAC;GAClB,CAAC,SAAM,CAAC,UAAS,CAAC,EAAE;AACnB,WAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACf,aAAS,CAAC,8BAA8B,CAAC,CAAC;GAC3C,CAAC,CAAC;CACJ,CAAC;;AAEF,MAAM,CAAC,MAAM,GAAG,YAAW;AACzB,MAAI,CAAC,GAAG,CAAC,WAAW,CAAC,UAAS,GAAG,EAAE,IAAI,EAAE;AACvC,QAAI,GAAG,IAAI,IAAI,EAAE;AACf,WAAK,CAAC,4CAA4C,CAAC,CAAC;AACpD,aAAO;KACR;;AAED,QAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;AACpB,WAAK,CAAC,oFAAoF,CAAC,CAAC;AAC5F,aAAO;KACR;;AAED,YAAQ,GAAG,IAAI,CAAC;AAChB,WAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAEtB,kBAAc,EAAE,CAAC;GAClB,CAAC,CAAC;CACJ,CAAA","file":"/javascripts/app.js.map","sourcesContent":["var accounts;\nvar account;\nvar balance;\n\nfunction setStatus(message) {\n  var status = document.getElementById(\"status\");\n  status.innerHTML = message;\n};\n\nfunction refreshBalance() {\n  var meta = MetaCoin.deployed();\n\n  meta.getBalance.call(account, {from: account}).then(function(value) {\n    var balance_element = document.getElementById(\"balance\");\n    balance_element.innerHTML = value.valueOf();\n  }).catch(function(e) {\n    console.log(e);\n    setStatus(\"Error getting balance; see log.\");\n  });\n};\n\nfunction sendCoin() {\n  var meta = MetaCoin.deployed();\n\n  var amount = parseInt(document.getElementById(\"amount\").value);\n  var receiver = document.getElementById(\"receiver\").value;\n\n  setStatus(\"Initiating transaction... (please wait)\");\n\n  meta.sendCoin(receiver, amount, {from: account}).then(function() {\n    setStatus(\"Transaction complete!\");\n    refreshBalance();\n  }).catch(function(e) {\n    console.log(e);\n    setStatus(\"Error sending coin; see log.\");\n  });\n};\n\nwindow.onload = function() {\n  web3.eth.getAccounts(function(err, accs) {\n    if (err != null) {\n      alert(\"There was an error fetching your accounts.\");\n      return;\n    }\n\n    if (accs.length == 0) {\n      alert(\"Couldn't get any accounts! Make sure your Ethereum client is configured correctly.\");\n      return;\n    }\n\n    accounts = accs;\n    account = accounts[0];\n\n    refreshBalance();\n  });\n}\n"]},"hash":"fdc56710c701f48d0185714fa4bb4d63ccc3dccb"}
